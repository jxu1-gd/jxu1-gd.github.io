"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[614],{6610:function(e,n,t){t.r(n);var o=t(2672),r=t.n(o),s=t(1250),i=t(2263),a=function(e){e&&e instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),o(e),r(e),s(e),i(e)}))},c=t(5861),l=t(7757),u=t.n(l),h=t(8604),d="/v1/api/gbr/config",p="/v1/api/gbr/leaveagentmessage",w=function(){return(0,c.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.U2)(d);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},C=function(e){var n=e;n.namespace="/v1/api/gbr/";n.get("config",(function(){return{hoop:"9AM-5PM",isAgentOnline:!0,ewt:5,isLeaveAgentMessageEnabled:!0,leaveAgentMessage:"Please leave a message and we will get back to you as soon as we can.",userInactiveInterval:10,isSuccess:!0,errors:void 0}}));n.post(p,(function(){return{success:!0,errors:void 0}}))},g=function(e){C(e)},f=t(1413),v=t(4925),m=t(5671),S=t(3144),x=t(9340),k=t(5716),Z=t(1694),y=t.n(Z),E=t(7441),b=t(2249),B=t(1386),P=t(2156),M=t(6389),W=(t(2336),t(184)),I=["contextCls"],j=["contextCls"],A=["contextCls"],O=["isAgentOnline","isSuccess","errors"],T=function(e){(0,x.Z)(t,e);var n=(0,k.Z)(t);function t(){var e;(0,m.Z)(this,t);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).state={shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowMinimizedIconButton:!1},e.renderSvgChat=function(){return(0,W.jsx)(P.Z,{contextCls:"svg-container"})},e.renderIconButton=function(){return(0,W.jsx)(M.Z,{renderSvg:e.renderSvgChat,onClick:e.handleMinimizedIconBtnClick})},e.renderHoopWindow=function(){var n=e.state.chatConfigs,t=e.props,o=t.contextCls,r=(0,v.Z)(t,I);return(0,W.jsx)(B.Z,(0,f.Z)((0,f.Z)({contextCls:y()(e.baseCls,o),hoop:n.hoop,isLeaveMsgEnabled:n.isLeaveAgentMessageEnabled,onCloseBtnClick:e.handleCloseBtnClick},r),n))},e.renderChooseOptionWindow=function(){var n=e.props,t=n.contextCls,o=(0,v.Z)(n,j),r=e.state.chatConfigs;return(0,W.jsx)(E.Z,(0,f.Z)((0,f.Z)((0,f.Z)({contextCls:y()(e.baseCls,t),ewt:r.ewt},o),r),{},{onCloseBtnClick:e.handleCloseBtnClick}))},e.renderErrorPage=function(){var n=e.props,t=n.contextCls,o=(0,v.Z)(n,A);return(0,W.jsx)(b.Z,(0,f.Z)({contextCls:y()(e.baseCls,t),icon:"WarningAlert",windowTitle:"Chat with an agent",headText:"There was a problem connecting to chat support",subText:"Please try again later.",onCloseBtnClick:e.handleCloseBtnClick},o))},e.handleCloseBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!0,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1})},e.handleMinimizedIconBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!1}),e.fetchConfig()},e.baseCls="web-chat-module",e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.state,n=e.shouldShowChooseOptionWindow,t=e.shouldShowErrorPage,o=e.shouldShowHoopWindow,r=e.shouldShowMinimizedIconButton;return(0,W.jsxs)(W.Fragment,{children:[r&&this.renderIconButton(),n&&this.renderChooseOptionWindow(),o&&this.renderHoopWindow(),t&&this.renderErrorPage()]})}},{key:"componentDidMount",value:function(){this.setContainerElementStyle(),this.fetchConfig()}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle()}},{key:"fetchConfig",value:function(){var e=(0,c.Z)(u().mark((function e(){var n,t,o,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,w();case 4:t=e.sent,o=t.isAgentOnline,r=t.isSuccess,t.errors,s=(0,v.Z)(t,O),n.chatConfigs=s,o?n.shouldShowChooseOptionWindow=!0:n.shouldShowHoopWindow=!0,r||(n.shouldShowErrorPage=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.shouldShowErrorPage=!0;case 14:return e.prev=14,this.setState(n),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"setContainerElementStyle",value:function(){var e=this.props.containerElement;e&&(this.setState({originContainerElementPosition:e.style.position}),e.style.position="relative")}},{key:"restoreContainerElementStyle",value:function(){var e=this.props.containerElement,n=this.state.originContainerElementPosition;e&&n&&(e.style.position=n)}}]),t}(o.PureComponent),z=T;window.server&&"function"===typeof window.server.shutdown&&window.server.shutdown(),window.server=(0,i.Z)({routes:function(){g(this)}});var H=document.getElementById("root");s.createRoot(H).render((0,W.jsxs)(r().StrictMode,{children:[(0,W.jsx)("div",{children:"Test Widget Page, when invoke the wiget, we should expose the ChatModule only and set the containerElement to which element in the existing page"}),(0,W.jsx)(z,{containerElement:H,email:"sdfsf"})]})),a()}}]);
//# sourceMappingURL=614.d06dd6d2.chunk.js.map