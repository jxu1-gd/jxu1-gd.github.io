"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[97],{6610:function(e,n,o){o.r(n);var t=o(2672),s=o.n(t),i=o(1250),r=o(2263),a=function(e){e&&e instanceof Function&&o.e(787).then(o.bind(o,787)).then((function(n){var o=n.getCLS,t=n.getFID,s=n.getFCP,i=n.getLCP,r=n.getTTFB;o(e),t(e),s(e),i(e),r(e)}))},l=o(5861),h=o(7757),c=o.n(h),u=o(8604),d="/v1/api/gbr/config",g="/v1/api/gbr/leaveagentmessage",w=function(){return(0,l.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.U2)(d);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},C=function(e){var n=e;n.namespace="/v1/api/gbr/";n.get("config",(function(){return{hoop:"9AM-5PM",isAgentOnline:!0,ewt:6,isLeaveAgentMessageEnabled:!0,leaveAgentMessage:"Please leave a message and we will get back to you as soon as we can.",userInactiveInterval:10,isSuccess:!0,errors:void 0}}));n.post(g,(function(){return{success:!0,errors:void 0}}))},p=function(e){C(e)},S=o(1413),v=o(4925),f=o(5671),m=o(3144),x=o(9340),k=o(5716),P=o(1694),M=o.n(P),Z=o(7961),B=o(2249),E=o(1386),b=o(2156),I=o(6389),y=o(5940),W=o(6750),O=(o(2336),o(184)),L=["contextCls"],j=["contextCls"],z=["contextCls"],A=["contextCls"],H=["contextCls"],T=["isAgentOnline","isSuccess","errors"],_=function(e){(0,x.Z)(o,e);var n=(0,k.Z)(o);function o(){var e;(0,f.Z)(this,o);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).state={shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowMinimizedIconButton:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!1},e.renderSvgChat=function(){return(0,O.jsx)(b.Z,{contextCls:"svg-container"})},e.renderIconButton=function(){return(0,O.jsx)(I.Z,{renderSvg:e.renderSvgChat,onClick:e.handleMinimizedIconBtnClick})},e.renderHoopWindow=function(){var n=e.state.chatConfigs,o=e.props,t=o.contextCls,s=(0,v.Z)(o,L);return(0,O.jsx)(E.Z,(0,S.Z)((0,S.Z)({contextCls:M()(e.baseCls,t),hoop:n.hoop,isLeaveMsgEnabled:n.isLeaveAgentMessageEnabled,onCloseBtnClick:e.handleCloseBtnClick},s),n))},e.renderChooseOptionWindow=function(){var n=e.props,o=n.contextCls,t=(0,v.Z)(n,j),s=e.state.chatConfigs;return(0,O.jsx)(Z.Z,(0,S.Z)((0,S.Z)((0,S.Z)({contextCls:M()(e.baseCls,o),ewt:s.ewt,isLoggedIn:e.isLoggedIn},t),s),{},{onCloseBtnClick:e.handleCloseBtnClick,onSupportOptionClick:e.handleSupportOptionClick,onMessageOptionClick:e.handleMessageOptionClick}))},e.renderErrorPage=function(){var n=e.props,o=n.contextCls,t=(0,v.Z)(n,z);return(0,O.jsx)(B.Z,(0,S.Z)({contextCls:M()(e.baseCls,o),icon:"WarningAlert",windowTitle:"Chat with an agent",headText:"There was a problem connecting to chat support",subText:"Please try again later.",onCloseBtnClick:e.handleCloseBtnClick},t))},e.renderConnectingPage=function(){var n=e.props,o=n.contextCls,t=(0,v.Z)(n,A);return(0,O.jsx)(B.Z,(0,S.Z)({contextCls:M()(e.baseCls,o,"web-chat-generic-message--withNoSubText"),shouldShowMinimizeBtn:!0,renderIcon:function(){return(0,O.jsx)(y.Z,{})},headText:"Connecting you with a support agent. Please wait.",onCloseBtnClick:e.handleCloseBtnClick,onMinimizeBtnClick:e.handleMinimizeBtnClick},t))},e.renderLeaveMessagePage=function(){var n=e.props,o=n.contextCls,t=(0,v.Z)(n,H);return(0,O.jsx)(W.Z,(0,S.Z)({contextCls:M()(e.baseCls,o),shouldShowEmailInput:!e.isLoggedIn,onCloseBtnClick:e.handleCloseBtnClick},t))},e.handleCloseBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!0,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!1})},e.handleMinimizeBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!0,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!1})},e.handleMinimizedIconBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!1}),e.fetchConfig()},e.handleSupportOptionClick=function(){e.isLoggedIn?e.setState({shouldShowMinimizedIconButton:!1,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!0,shouldShowLeaveMessagePage:!1}):window.location.href="https://secure.go2bank.com/account/auth/login"},e.handleMessageOptionClick=function(){e.setState({shouldShowMinimizedIconButton:!1,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!0})},e.baseCls="web-chat-module",e}return(0,m.Z)(o,[{key:"render",value:function(){var e=this.state,n=e.shouldShowChooseOptionWindow,o=e.shouldShowErrorPage,t=e.shouldShowHoopWindow,s=e.shouldShowMinimizedIconButton,i=e.shouldShowConnectingPage,r=e.shouldShowLeaveMessagePage;return(0,O.jsxs)(O.Fragment,{children:[s&&this.renderIconButton(),n&&this.renderChooseOptionWindow(),t&&this.renderHoopWindow(),i&&this.renderConnectingPage(),r&&this.renderLeaveMessagePage(),o&&this.renderErrorPage()]})}},{key:"componentDidMount",value:function(){var e=this.props.accountIdentifier;this.setContainerElementStyle(),this.fetchConfig(),this.isLoggedIn=!!e}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle()}},{key:"fetchConfig",value:function(){var e=(0,l.Z)(c().mark((function e(){var n,o,t,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,w();case 4:o=e.sent,t=o.isAgentOnline,s=o.isSuccess,o.errors,i=(0,v.Z)(o,T),n.chatConfigs=i,t?n.shouldShowChooseOptionWindow=!0:n.shouldShowHoopWindow=!0,s||(n.shouldShowErrorPage=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.shouldShowErrorPage=!0;case 14:return e.prev=14,this.setState(n),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"setContainerElementStyle",value:function(){var e=this.props.containerElement;e&&(this.setState({originContainerElementPosition:e.style.position}),e.style.position="relative")}},{key:"restoreContainerElementStyle",value:function(){var e=this.props.containerElement,n=this.state.originContainerElementPosition;e&&n&&(e.style.position=n)}}]),o}(t.PureComponent),F=_;window.server&&"function"===typeof window.server.shutdown&&window.server.shutdown(),window.server=(0,r.Z)({routes:function(){p(this)}});var D=document.getElementById("root");i.createRoot(D).render((0,O.jsxs)(s().StrictMode,{children:[(0,O.jsx)("div",{children:"Test Widget Page, when invoke the wiget, we should expose the ChatModule only and set the containerElement to which element in the existing page"}),(0,O.jsx)(F,{containerElement:D,email:"jxu@greendot.com",accountIdentifier:""})]})),a()}}]);
//# sourceMappingURL=97.fb7a597c.chunk.js.map