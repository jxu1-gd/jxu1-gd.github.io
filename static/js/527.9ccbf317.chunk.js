"use strict";(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[527],{6481:function(e,n,o){o.r(n);var t=o(5861),s=o(1413),i=o(4925),r=o(5671),a=o(3144),h=o(9340),l=o(5716),c=o(7757),u=o.n(c),d=o(1694),C=o.n(d),g=o(2672),p=o(7961),w=o(2249),S=o(1386),f=o(2156),v=o(6389),k=o(5989),m=o(5940),x=o(6750),Z=(o(2336),o(184)),P=["contextCls"],M=["contextCls"],B=["contextCls"],b=["contextCls"],E=["contextCls"],W=["isAgentOnline","isSuccess","errors"],I=function(e){(0,h.Z)(o,e);var n=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var t=arguments.length,a=new Array(t),h=0;h<t;h++)a[h]=arguments[h];return(e=n.call.apply(n,[this].concat(a))).state={shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowMinimizedIconButton:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!1},e.renderSvgChat=function(){return(0,Z.jsx)(f.Z,{contextCls:"svg-container"})},e.renderIconButton=function(){return(0,Z.jsx)(v.Z,{renderSvg:e.renderSvgChat,onClick:e.handleMinimizedIconBtnClick})},e.renderHoopWindow=function(){var n=e.state.chatConfigs,o=e.props,t=o.contextCls,r=(0,i.Z)(o,P);return(0,Z.jsx)(S.Z,(0,s.Z)((0,s.Z)({contextCls:C()(e.baseCls,t),hoop:n.hoop,isLeaveMsgEnabled:n.isLeaveAgentMessageEnabled,onCloseBtnClick:e.handleCloseBtnClick},r),n))},e.renderChooseOptionWindow=function(){var n=e.props,o=n.contextCls,t=(0,i.Z)(n,M),r=e.state.chatConfigs;return(0,Z.jsx)(p.Z,(0,s.Z)((0,s.Z)((0,s.Z)({contextCls:C()(e.baseCls,o),ewt:r.ewt,isLoggedIn:e.isLoggedIn},t),r),{},{onCloseBtnClick:e.handleCloseBtnClick,onSupportOptionClick:e.handleSupportOptionClick,onMessageOptionClick:e.handleMessageOptionClick}))},e.renderErrorPage=function(){var n=e.props,o=n.contextCls,t=(0,i.Z)(n,B);return(0,Z.jsx)(w.Z,(0,s.Z)({contextCls:C()(e.baseCls,o),icon:"WarningAlert",windowTitle:"Chat with an agent",headText:"There was a problem connecting to chat support",subText:"Please try again later.",onCloseBtnClick:e.handleCloseBtnClick},t))},e.renderConnectingPage=function(){var n=e.props,o=n.contextCls,t=(0,i.Z)(n,b);return(0,Z.jsx)(w.Z,(0,s.Z)({contextCls:C()(e.baseCls,o,"web-chat-generic-message--withNoSubText"),shouldShowMinimizeBtn:!0,renderIcon:function(){return(0,Z.jsx)(m.Z,{})},headText:"Connecting you with a support agent. Please wait.",onCloseBtnClick:e.handleCloseBtnClick,onMinimizeBtnClick:e.handleMinimizeBtnClick},t))},e.renderLeaveMessagePage=function(){var n=e.props,o=n.contextCls,t=(0,i.Z)(n,E);return(0,Z.jsx)(x.Z,(0,s.Z)({contextCls:C()(e.baseCls,o),shouldShowEmailInput:!e.isLoggedIn,onCloseBtnClick:e.handleCloseBtnClick},t))},e.handleCloseBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!0,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!1})},e.handleMinimizeBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!0,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!1})},e.handleMinimizedIconBtnClick=function(){e.setState({shouldShowMinimizedIconButton:!1}),e.fetchConfig()},e.handleSupportOptionClick=function(){e.isLoggedIn?e.setState({shouldShowMinimizedIconButton:!1,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!0,shouldShowLeaveMessagePage:!1}):window.location.href="https://secure.go2bank.com/account/auth/login"},e.handleMessageOptionClick=function(){e.setState({shouldShowMinimizedIconButton:!1,shouldShowChooseOptionWindow:!1,shouldShowErrorPage:!1,shouldShowHoopWindow:!1,shouldShowConnectingPage:!1,shouldShowLeaveMessagePage:!0})},e.baseCls="web-chat-module",e}return(0,a.Z)(o,[{key:"render",value:function(){var e=this.state,n=e.shouldShowChooseOptionWindow,o=e.shouldShowErrorPage,t=e.shouldShowHoopWindow,s=e.shouldShowMinimizedIconButton,i=e.shouldShowConnectingPage,r=e.shouldShowLeaveMessagePage;return(0,Z.jsxs)(Z.Fragment,{children:[s&&this.renderIconButton(),n&&this.renderChooseOptionWindow(),t&&this.renderHoopWindow(),i&&this.renderConnectingPage(),r&&this.renderLeaveMessagePage(),o&&this.renderErrorPage()]})}},{key:"componentDidMount",value:function(){var e=this.props.accountIdentifier;this.setContainerElementStyle(),this.fetchConfig(),this.isLoggedIn=!!e}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle()}},{key:"fetchConfig",value:function(){var e=(0,t.Z)(u().mark((function e(){var n,o,t,s,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,k.Z.getChatConfig();case 4:o=e.sent,t=o.isAgentOnline,s=o.isSuccess,o.errors,r=(0,i.Z)(o,W),n.chatConfigs=r,t?n.shouldShowChooseOptionWindow=!0:n.shouldShowHoopWindow=!0,s||(n.shouldShowErrorPage=!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.shouldShowErrorPage=!0;case 14:return e.prev=14,this.setState(n),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"setContainerElementStyle",value:function(){var e=this.props.containerElement;e&&(this.setState({originContainerElementPosition:e.style.position}),e.style.position="relative")}},{key:"restoreContainerElementStyle",value:function(){var e=this.props.containerElement,n=this.state.originContainerElementPosition;e&&n&&(e.style.position=n)}}]),o}(g.PureComponent);n.default=I},5989:function(e,n,o){var t=o(5861),s=o(7757),i=o.n(s),r=o(8604),a="/v1/api/gbr/config",h="/v1/api/gbr/leaveagentmessage";n.Z={getChatConfig:function(){return(0,t.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.U2)(a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},leaveMessage:function(e){return(0,t.Z)(i().mark((function n(){var o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,r.v_)(h,e);case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})))()}}}}]);
//# sourceMappingURL=527.9ccbf317.chunk.js.map