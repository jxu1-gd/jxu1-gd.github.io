{"version":3,"file":"static/js/97.fb7a597c.chunk.js","mappings":"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","sources":["reportWebVitals.js","service/ChatService.js","mock/ChatService/registerChatRoutes.js","mock/registerRoutes.js","ChatModule.js","bootstrap.js"],"sourcesContent":["const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            },\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import { get, post } from '@Green-Dot-Corporation/eureka-lib-fetch-utils';\n\nexport const chatUrls = {\n    getConfigUrl: '/v1/api/gbr/config',\n    leaveMessageUrl: '/v1/api/gbr/leaveagentmessage',\n};\nexport default {\n    async getChatConfig() {\n        const config = await get(chatUrls.getConfigUrl);\n\n        return config;\n    },\n    async leaveMessage(leaveMessageRequest) {\n        const resp = await post(chatUrls.leaveMessageUrl, leaveMessageRequest);\n\n        return resp;\n    },\n};\n","import { chatUrls } from '../../service/ChatService';\n\nconst registerChatRoutes = (server) => {\n    const serverConfig = server;\n\n    serverConfig.namespace = '/v1/api/gbr/';\n    const mockGetConfig = () => {\n        return {\n            hoop: '9AM-5PM',\n            isAgentOnline: true,\n            ewt: 6,\n            isLeaveAgentMessageEnabled: true,\n            leaveAgentMessage:\n                'Please leave a message and we will get back to you as soon as we can.',\n            userInactiveInterval: 10,\n            isSuccess: true,\n            errors: undefined,\n        };\n    };\n    serverConfig.get('config', mockGetConfig);\n    const mockLeaveMessage = () => {\n        return {\n            success: true,\n            errors: undefined,\n        };\n    };\n    serverConfig.post(chatUrls.leaveMessageUrl, mockLeaveMessage);\n};\n\nexport default registerChatRoutes;\n","import registerChatRoutes from './ChatService/registerChatRoutes';\n\nconst registerRoutes = (server) => {\n    // server.passthrough();\n    registerChatRoutes(server);\n};\n\nexport default registerRoutes;\n","import cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport ChooseOptionWindow from './components/choose-option-window/ChooseOptionWindow';\nimport GenericMessage from './components/generic-message/GenericMessage';\nimport Hoop from './components/hoop/Hoop';\nimport Chat from './components/svg/Chat';\nimport IconButtonChat from './components/icon-button-chat/IconButtonChat';\nimport ChatService from './service/ChatService';\nimport WriteAMessage from './components/svg/WriteAMessage';\nimport LeaveMessage from './components/leave-message/LeaveMessage';\nimport './styles/chat-module.scss';\n\nclass ChatModule extends PureComponent {\n    static propTypes = {\n        contextCls: PropTypes.string,\n        containerElement: PropTypes.object,\n        accountIdentifier: PropTypes.string,\n        email: PropTypes.string,\n        brand: PropTypes.string,\n        env: PropTypes.string,\n    };\n\n    state = {\n        shouldShowChooseOptionWindow: false,\n        shouldShowErrorPage: false,\n        shouldShowHoopWindow: false,\n        shouldShowMinimizedIconButton: false,\n        shouldShowConnectingPage: false,\n        shouldShowLeaveMessagePage: false,\n    };\n\n    render() {\n        const {\n            shouldShowChooseOptionWindow,\n            shouldShowErrorPage,\n            shouldShowHoopWindow,\n            shouldShowMinimizedIconButton,\n            shouldShowConnectingPage,\n            shouldShowLeaveMessagePage,\n        } = this.state;\n\n        return (\n            <>\n                {shouldShowMinimizedIconButton && this.renderIconButton()}\n                {shouldShowChooseOptionWindow &&\n                    this.renderChooseOptionWindow()}\n                {shouldShowHoopWindow && this.renderHoopWindow()}\n                {shouldShowConnectingPage && this.renderConnectingPage()}\n                {shouldShowLeaveMessagePage && this.renderLeaveMessagePage()}\n                {shouldShowErrorPage && this.renderErrorPage()}\n            </>\n        );\n    }\n\n    componentDidMount() {\n        const { accountIdentifier } = this.props;\n        this.setContainerElementStyle();\n        this.fetchConfig();\n        this.isLoggedIn = !!accountIdentifier;\n    }\n\n    componentWillUnmount() {\n        this.restoreContainerElementStyle();\n    }\n\n    renderSvgChat = () => <Chat contextCls=\"svg-container\" />;\n\n    renderIconButton = () => {\n        return (\n            <IconButtonChat\n                renderSvg={this.renderSvgChat}\n                onClick={this.handleMinimizedIconBtnClick}\n            />\n        );\n    };\n\n    renderHoopWindow = () => {\n        const { chatConfigs } = this.state;\n        const { contextCls, ...restProps } = this.props;\n\n        return (\n            <Hoop\n                contextCls={cx(this.baseCls, contextCls)}\n                hoop={chatConfigs.hoop}\n                isLeaveMsgEnabled={chatConfigs.isLeaveAgentMessageEnabled}\n                onCloseBtnClick={this.handleCloseBtnClick}\n                {...restProps}\n                {...chatConfigs}\n            />\n        );\n    };\n\n    renderChooseOptionWindow = () => {\n        const { contextCls, ...restProps } = this.props;\n        const { chatConfigs } = this.state;\n\n        return (\n            <ChooseOptionWindow\n                contextCls={cx(this.baseCls, contextCls)}\n                ewt={chatConfigs.ewt}\n                isLoggedIn={this.isLoggedIn}\n                {...restProps}\n                {...chatConfigs}\n                onCloseBtnClick={this.handleCloseBtnClick}\n                onSupportOptionClick={this.handleSupportOptionClick}\n                onMessageOptionClick={this.handleMessageOptionClick}\n            />\n        );\n    };\n\n    renderErrorPage = () => {\n        const { contextCls, ...restProps } = this.props;\n\n        return (\n            <GenericMessage\n                contextCls={cx(this.baseCls, contextCls)}\n                icon=\"WarningAlert\"\n                windowTitle=\"Chat with an agent\"\n                headText=\"There was a problem connecting to chat support\"\n                subText=\"Please try again later.\"\n                onCloseBtnClick={this.handleCloseBtnClick}\n                {...restProps}\n            />\n        );\n    };\n\n    renderConnectingPage = () => {\n        const { contextCls, ...restProps } = this.props;\n\n        return (\n            <GenericMessage\n                contextCls={cx(\n                    this.baseCls,\n                    contextCls,\n                    'web-chat-generic-message--withNoSubText',\n                )}\n                shouldShowMinimizeBtn\n                renderIcon={() => <WriteAMessage />}\n                headText=\"Connecting you with a support agent.\n                Please wait.\"\n                onCloseBtnClick={this.handleCloseBtnClick}\n                onMinimizeBtnClick={this.handleMinimizeBtnClick}\n                {...restProps}\n            />\n        );\n    };\n\n    renderLeaveMessagePage = () => {\n        const { contextCls, ...restProps } = this.props;\n\n        return (\n            <LeaveMessage\n                contextCls={cx(this.baseCls, contextCls)}\n                shouldShowEmailInput={!this.isLoggedIn}\n                onCloseBtnClick={this.handleCloseBtnClick}\n                {...restProps}\n            />\n        );\n    };\n\n    handleCloseBtnClick = () => {\n        this.setState({\n            shouldShowMinimizedIconButton: true,\n            shouldShowChooseOptionWindow: false,\n            shouldShowErrorPage: false,\n            shouldShowHoopWindow: false,\n            shouldShowConnectingPage: false,\n            shouldShowLeaveMessagePage: false,\n        });\n    };\n\n    handleMinimizeBtnClick = () => {\n        this.setState({\n            shouldShowMinimizedIconButton: true,\n            shouldShowChooseOptionWindow: false,\n            shouldShowErrorPage: false,\n            shouldShowHoopWindow: false,\n            shouldShowConnectingPage: false,\n        });\n    };\n\n    handleMinimizedIconBtnClick = () => {\n        this.setState({\n            shouldShowMinimizedIconButton: false,\n        });\n        this.fetchConfig();\n    };\n\n    handleSupportOptionClick = () => {\n        if (this.isLoggedIn) {\n            this.setState({\n                shouldShowMinimizedIconButton: false,\n                shouldShowChooseOptionWindow: false,\n                shouldShowErrorPage: false,\n                shouldShowHoopWindow: false,\n                shouldShowConnectingPage: true,\n                shouldShowLeaveMessagePage: false,\n            });\n        } else {\n            window.location.href =\n                'https://secure.go2bank.com/account/auth/login';\n        }\n    };\n\n    handleMessageOptionClick = () => {\n        this.setState({\n            shouldShowMinimizedIconButton: false,\n            shouldShowChooseOptionWindow: false,\n            shouldShowErrorPage: false,\n            shouldShowHoopWindow: false,\n            shouldShowConnectingPage: false,\n            shouldShowLeaveMessagePage: true,\n        });\n    };\n\n    async fetchConfig() {\n        const newState = {};\n\n        try {\n            const chatConfig = await ChatService.getChatConfig();\n            const { isAgentOnline, isSuccess, errors, ...restConfig } =\n                chatConfig;\n            newState.chatConfigs = restConfig;\n\n            if (isAgentOnline) {\n                newState.shouldShowChooseOptionWindow = true;\n            } else {\n                newState.shouldShowHoopWindow = true;\n            }\n\n            if (!isSuccess) {\n                newState.shouldShowErrorPage = true;\n            }\n        } catch (e) {\n            newState.shouldShowErrorPage = true;\n        } finally {\n            this.setState(newState);\n        }\n    }\n\n    setContainerElementStyle() {\n        const { containerElement } = this.props;\n\n        if (containerElement) {\n            this.setState({\n                originContainerElementPosition: containerElement.style.position,\n            });\n            containerElement.style.position = 'relative';\n        }\n    }\n\n    restoreContainerElementStyle() {\n        const { containerElement } = this.props;\n        const { originContainerElementPosition } = this.state;\n\n        if (containerElement && originContainerElementPosition) {\n            containerElement.style.position = originContainerElementPosition;\n        }\n    }\n\n    baseCls = 'web-chat-module';\n}\n\nexport default ChatModule;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport initMirageServer from '@Green-Dot-Corporation/eureka-lib-mock-utils/src/initMirageServer';\nimport reportWebVitals from './reportWebVitals';\nimport registerRoutes from './mock/registerRoutes';\nimport ChatModule from './ChatModule';\nimport './styles/index.scss';\n\nif (\n    process.env.NODE_ENV === 'development' ||\n    process.env.NODE_ENV === 'production'\n) {\n    // Shutdown any existing instance of server to avoid multiple pretender\n    // instances error\n    if (window.server && typeof window.server.shutdown === 'function') {\n        window.server.shutdown();\n    }\n\n    // Create server and pass routes and other options\n    window.server = initMirageServer({\n        routes() {\n            registerRoutes(this);\n        },\n    });\n}\nconst rootElement = document.getElementById('root');\nconst root = ReactDOM.createRoot(rootElement);\nroot.render(\n    <React.StrictMode>\n        <div>\n            Test Widget Page, when invoke the wiget, we should expose the\n            ChatModule only and set the containerElement to which element in the\n            existing page\n        </div>\n        <ChatModule\n            containerElement={rootElement}\n            email=\"jxu@greendot.com\"\n            accountIdentifier=\"\"\n        />\n    </React.StrictMode>,\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","chatUrls","get","config","server","serverConfig","namespace","hoop","isAgentOnline","ewt","isLeaveAgentMessageEnabled","leaveAgentMessage","userInactiveInterval","isSuccess","errors","undefined","post","success","registerChatRoutes","ChatModule","state","shouldShowChooseOptionWindow","shouldShowErrorPage","shouldShowHoopWindow","shouldShowMinimizedIconButton","shouldShowConnectingPage","shouldShowLeaveMessagePage","renderSvgChat","Chat","contextCls","renderIconButton","IconButtonChat","renderSvg","onClick","handleMinimizedIconBtnClick","renderHoopWindow","chatConfigs","props","restProps","Hoop","cx","baseCls","isLeaveMsgEnabled","onCloseBtnClick","handleCloseBtnClick","renderChooseOptionWindow","ChooseOptionWindow","isLoggedIn","onSupportOptionClick","handleSupportOptionClick","onMessageOptionClick","handleMessageOptionClick","renderErrorPage","GenericMessage","icon","windowTitle","headText","subText","renderConnectingPage","shouldShowMinimizeBtn","renderIcon","WriteAMessage","onMinimizeBtnClick","handleMinimizeBtnClick","renderLeaveMessagePage","LeaveMessage","shouldShowEmailInput","setState","fetchConfig","window","location","href","this","accountIdentifier","setContainerElementStyle","restoreContainerElementStyle","newState","ChatService","chatConfig","restConfig","containerElement","originContainerElementPosition","style","position","PureComponent","shutdown","initMirageServer","routes","registerRoutes","rootElement","document","getElementById","ReactDOM","render","email","reportWebVitals"],"sourceRoot":""}